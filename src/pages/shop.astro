---
import Footer from "../components/Footer.astro";
import Form from "../components/Form.astro";
import Header from "../components/Header.astro";
import Order from "../components/Order.astro";
import Prodshelf from "../components/Prodshelf.astro";
import Shopgal from "../components/Shopgal.astro";
import "../styles/style.css";

const url = "https://fttrpxvnwfswdwvtcifh.supabase.co/rest/v1/stock";
const key =
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ0dHJweHZud2Zzd2R3dnRjaWZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQzOTgwMzcsImV4cCI6MTk5OTk3NDAzN30.jiQY1R9_4xH6PJgdeCvhKQKRA6bfCLB2ciJOBVzotc4";

const respons = await fetch(url, {
  method: "GET",
  headers: {
    apikey: key,
    Accept: "application/json",
    "Content-Type": "application/json",
  },
});
const data = await respons.json();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/svg/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet" />
    <meta name="generator" content={Astro.generator} />
    <title>Cehofski - Shop</title>
  </head>
  <Header />
  <main>
    <section id="in_stock">
      <h1>Handcrafted Artwear</h1>
      <h3>by cehofski</h3>
    </section>
    <!-- {
      data.map((item) => {
        return <Prodshelf text="the rings we have in stock" name={item.name} info={item.text} img1={"../../img/" + item.img1 + ".webp"} img2={"../../img/" + item.img2 + ".webp"} img3={"../../img/" + item.img3 + ".webp"} img4={"../../img/" + item.img4 + ".webp"} price={item.price} type={item.type} id={"/undersider/" + item.id} materials={item.materiale} sten={item.sten} />;
      })
    } -->

    <Prodshelf text="the rings we have in stock" />
    <Shopgal />

    <div class="order" id="order">
      <Order />
    </div>
    <Form />
  </main>
  <Footer />

  <style>
    h1 {
      margin-left: 1rem;
      margin-bottom: -2rem;
    }
    h2 {
      margin-left: 1rem;
    }
    p {
      margin-left: 1rem;
    }
    h3 {
      margin-left: 1rem;
    }
    section {
      margin-bottom: 3rem;
    }

    #order {
      scroll-margin: 70px;
    }
    #in_stock {
      scroll-margin: 70px;
    }

    @media (max-width: 800px) {
      .order {
        margin-bottom: 3rem;
      }
      h1 {
        margin-bottom: -1rem;
      }
    }
  </style>


</html>
